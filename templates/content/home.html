{# templates/content/home.html #}
{% extends "base.html" %}
{% load i18n static richtext %}

{% block content %}
    <!-- Hero / Intro -->
    <section class="container mx-auto">
        <div class="hero min-h-[40vh]">
            <div class="hero-content text-center">
                <div class="max-w-2xl mx-auto">
                    <h1 class="text-3xl md:text-4xl font-bold pb-4">
                        MentoroAI - {% trans "Understand AI tools and use them effectively" %}
                    </h1>
                    <p class="text-base md:text-lg opacity-80">
                        {% blocktrans %} Find the right tools, compare real alternatives, and follow practical guides
                            and prompts to apply AI confidently in everyday life.{% endblocktrans %}
                    </p>
                    <div class="flex flex-wrap gap-3 mt-6 justify-center items-center">
                        <a href="{{ start_guide_url }}" class="btn btn-primary btn-lg" role="button"
                           aria-pressed="false" aria-label="{% trans "Begin with the Starter Guide" %}">
                            {% blocktrans %}Begin with the Starter Guide{% endblocktrans %}
                        </a>
                        <a href="{% url 'catalog:list' %}" class="btn btn-outline" role="button" aria-pressed="false"
                           aria-label="{% trans "Discover AI Tools" %}">
                            {% blocktrans %}Discover AI Tools{% endblocktrans %}
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>
    {% include "partials/_entry_cards.html" with card=c %}
    <section class="container mx-auto mt-4">
        {% include "partials/author_info_card.html" %}
    </section>
    <!-- Featured Tools -->
    {% if featured_tools %}
        <section class="container mx-auto mt-8">
            <h2 class="text-xl font-semibold pb-4">{% trans "Featured Tools" %}</h2>
            <div class="grid gap-4 grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6">
                {% for t in featured_tools %}
                    <a href="{% url 'catalog:detail' slug=t.slug %}"
                       class="card border rounded-md hover:shadow-xl transition-shadow h-full">
                        <div class="card-body">
                            <div class="flex items-center gap-3">
                                <div class="avatar">
                                    {% if t.logo %}
                                        <div class="w-10 h-10 rounded-full">
                                            <img src="{{ t.logo.url }}" alt="{{ t.name }}" loading="lazy" width="40"
                                                 height="40">
                                        </div>
                                    {% else %}
                                        <div class="w-10 h-10 rounded-full ring-1 ring-base-300">
                                            <div class="flex h-full w-full items-center justify-center bg-base-200 text-lg font-semibold">
                                                {{ t.name|first|upper }}
                                            </div>
                                        </div>
                                    {% endif %}
                                </div>
                                <div>
                                    <h3 class="font-semibold leading-tight">{{ t.name }}</h3>
                                    {% if t.vendor %}<p class="text-sm opacity-70">{{ t.vendor }}</p>{% endif %}
                                </div>
                            </div>
                            {% if t.short_description %}
                                <p class="opacity-80 mt-3 line-clamp-2">{{ t.short_description|richtext|safe|truncatewords:12 }}</p>{% endif %}
                            <div class="card-actions mt-4 justify-between items-center">
                                {% if t.rating %}
                                    <span class="badge badge-primary badge-outline"
                                          aria-label="{% trans "Rating" %}">{{ t.rating }}★</span>
                                {% endif %}
                                <span class="btn btn-sm btn-block btn-primary">{% trans "Details" %}</span>
                            </div>
                        </div>
                    </a>
                {% endfor %}
            </div>
        </section>
    {% endif %}
    <!-- Personalized recommendations -->
    {% if recommended_items %}
        <section class="container mx-auto mt-8">
            <h2 class="text-xl font-semibold mb-4">{% trans "Recommended for you" %}</h2>
            <div class="grid gap-4 md:grid-cols-2 lg:grid-cols-3">
                {% for item in recommended_items %}
                    {% include "partials/_teaser_card.html" with item=item %}
                {% endfor %}
            </div>
        </section>
    {% endif %}
    <!-- New Content -->
    <section class="container mx-auto mt-8">
        <div class="flex items-baseline justify-between mb-4">
            <h2 class="text-xl font-semibold">{% trans "Current content" %}
                <span class="opacity-70 text-sm">
                    <a class="link link-hover ml-2" href="{% url 'guides:list' %}">{% trans "Guides" %}</a> •
                    <a class="link link-hover" href="{% url 'prompts:list' %}">{% trans "Prompts" %}</a> •
                    <a class="link link-hover" href="{% url 'usecases:list' %}">{% trans "Usecases" %}</a>
                </span>
            </h2>
        </div>
        <div class="grid gap-4 md:grid-cols-2 lg:grid-cols-3">
            {% for item in latest_items %}
                {% include "partials/_teaser_card.html" with item=item %}
            {% empty %}
                <div class="alert">
                    {% heroicon_solid "information-circle" size=20 class="mr-2" %}
                    <span>{% trans "No published content yet." %}</span>
                </div>
            {% endfor %}
        </div>
    </section>
    <!-- Open the modal using ID.showModal() method -->
    <div class="fab">
        <button class="btn btn-lg md:btn-xl btn-circle btn-info" onclick="featuresmodal.showModal()"
                aria-label="Information Button">
            {% heroicon_outline "light-bulb" size=32 %}
        </button>
    </div>
    {% include "partials/features_open.html" %}
{% endblock %}
